{"version":3,"file":"src_components_right_DeleteMemberModal_tsx-src_global_selectors_calls_ts-src_global_selectors-18144d.528302fa1cb3c75f754e.js","mappings":"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","sources":["webpack://telegram-t/./src/components/right/DeleteMemberModal.tsx","webpack://telegram-t/./src/global/selectors/calls.ts","webpack://telegram-t/./src/global/selectors/limits.ts","webpack://telegram-t/./src/hooks/window/useFullscreen.ts","webpack://telegram-t/./src/types/electron.ts"],"sourcesContent":["import type { FC } from '../../lib/teact/teact';\nimport React, { memo, useCallback } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiChat } from '../../api/types';\n\nimport { getUserFirstOrLastName } from '../../global/helpers';\nimport { selectCurrentChat, selectUser } from '../../global/selectors';\nimport renderText from '../common/helpers/renderText';\n\nimport useOldLang from '../../hooks/useOldLang';\n\nimport ConfirmDialog from '../ui/ConfirmDialog';\n\nexport type OwnProps = {\n  isOpen: boolean;\n  userId?: string;\n  onClose: () => void;\n};\n\ntype StateProps = {\n  chat?: ApiChat;\n  contactName?: string;\n};\n\nconst DeleteMemberModal: FC<OwnProps & StateProps> = ({\n  isOpen,\n  chat,\n  userId,\n  contactName,\n  onClose,\n}) => {\n  const { deleteChatMember } = getActions();\n\n  const lang = useOldLang();\n\n  const handleDeleteChatMember = useCallback(() => {\n    deleteChatMember({ chatId: chat!.id, userId: userId! });\n    onClose();\n  }, [chat, deleteChatMember, onClose, userId]);\n\n  if (!chat || !userId) {\n    return undefined;\n  }\n\n  return (\n    <ConfirmDialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title={lang('GroupRemoved.Remove')}\n      textParts={renderText(lang('PeerInfo.Confirm.RemovePeer', contactName))}\n      confirmLabel={lang('lng_box_remove')}\n      confirmHandler={handleDeleteChatMember}\n      confirmIsDestructive\n    />\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { userId }): StateProps => {\n    const chat = selectCurrentChat(global);\n    const user = userId && selectUser(global, userId);\n    const contactName = user ? getUserFirstOrLastName(user) : undefined;\n\n    return {\n      chat,\n      contactName,\n    };\n  },\n)(DeleteMemberModal));\n","import type { GlobalState } from '../types';\n\nimport { getMainUsername, isChatBasicGroup } from '../helpers';\nimport { selectChat, selectChatFullInfo } from './chats';\nimport { selectUser } from './users';\n\nexport function selectChatGroupCall<T extends GlobalState>(global: T, chatId: string) {\n  const fullInfo = selectChatFullInfo(global, chatId);\n  if (!fullInfo || !fullInfo.groupCallId) return undefined;\n\n  return selectGroupCall(global, fullInfo.groupCallId);\n}\n\nexport function selectGroupCall<T extends GlobalState>(global: T, groupCallId: string) {\n  return global.groupCalls.byId[groupCallId];\n}\n\nexport function selectGroupCallParticipant<T extends GlobalState>(\n  global: T, groupCallId: string, participantId: string,\n) {\n  return selectGroupCall(global, groupCallId)?.participants[participantId];\n}\n\nexport function selectIsAdminInActiveGroupCall<T extends GlobalState>(global: T): boolean {\n  const chatId = selectActiveGroupCall(global)?.chatId;\n\n  if (!chatId) return false;\n\n  const chat = selectChat(global, chatId);\n  if (!chat) return false;\n\n  return (isChatBasicGroup(chat) && chat.isCreator) || Boolean(chat.adminRights?.manageCall);\n}\n\nexport function selectActiveGroupCall<T extends GlobalState>(global: T) {\n  const { groupCalls: { activeGroupCallId } } = global;\n  if (!activeGroupCallId) {\n    return undefined;\n  }\n\n  return selectGroupCall(global, activeGroupCallId);\n}\n\nexport function selectPhoneCallUser<T extends GlobalState>(global: T) {\n  const { phoneCall, currentUserId } = global;\n  if (!phoneCall || !phoneCall.participantId || !phoneCall.adminId) {\n    return undefined;\n  }\n\n  const id = phoneCall.adminId === currentUserId ? phoneCall.participantId : phoneCall.adminId;\n  return selectUser(global, id);\n}\n\nexport function selectCanInviteToActiveGroupCall<T extends GlobalState>(global: T) {\n  const groupCall = selectActiveGroupCall(global);\n\n  if (!groupCall || !groupCall.chatId) {\n    return false;\n  }\n\n  const chat = selectChat(global, groupCall.chatId);\n  if (!chat) {\n    return false;\n  }\n\n  const hasPublicUsername = Boolean(getMainUsername(chat));\n  if (hasPublicUsername) {\n    return true;\n  }\n\n  const inviteLink = selectChatFullInfo(global, chat.id)?.inviteLink;\n  return Boolean(inviteLink);\n}\n","import type { ApiLimitType } from '../../api/types';\nimport type { GlobalState } from '../types';\n\nimport { DEFAULT_LIMITS } from '../../config';\nimport { selectIsCurrentUserPremium } from './users';\n\nexport function selectCurrentLimit<T extends GlobalState>(global: T, limit: ApiLimitType) {\n  const { appConfig } = global;\n  if (!appConfig) {\n    return DEFAULT_LIMITS[limit][0];\n  }\n\n  const isPremium = selectIsCurrentUserPremium(global);\n  const { limits } = appConfig;\n\n  // When there are new limits when updating a layer, until we get a new configuration, we must use the default values\n  const value = limits[limit]?.[isPremium ? 1 : 0] ?? DEFAULT_LIMITS[limit][isPremium ? 1 : 0];\n  if (limit === 'dialogFilters') return value + 1; // Server does not count \"All\" as folder, but we need to\n  return value;\n}\n\nexport function selectPremiumLimit<T extends GlobalState>(global: T, limit: ApiLimitType) {\n  const { appConfig } = global;\n  if (!appConfig) return DEFAULT_LIMITS[limit][1];\n\n  const { limits } = appConfig;\n\n  return limits[limit][1];\n}\n","import { useEffect, useLayoutEffect, useState } from '../../lib/teact/teact';\n\nimport { ElectronEvent } from '../../types/electron';\n\nimport { IS_IOS } from '../../util/windowEnvironment';\n\ntype ElementType = HTMLElement;\ntype RefType = {\n  current: ElementType | null;\n};\n\ntype ReturnType = [boolean, () => void, () => void] | [false];\ntype CallbackType = (isPlayed: boolean) => void;\n\nconst prop = getBrowserFullscreenElementProp();\n\nexport default function useFullscreen(elRef: RefType, exitCallback?: CallbackType,\n  enterCallback?: CallbackType): ReturnType {\n  const [isFullscreen, setIsFullscreen] = useState(Boolean(prop && document[prop]));\n\n  const setFullscreen = () => {\n    if (!elRef.current || !(prop || IS_IOS) || isFullscreen) {\n      return;\n    }\n    safeRequestFullscreen(elRef.current);\n    setIsFullscreen(true);\n  };\n\n  const exitFullscreen = () => {\n    if (!elRef.current) {\n      return;\n    }\n    safeExitFullscreen();\n    setIsFullscreen(false);\n  };\n\n  useLayoutEffect(() => {\n    const element = elRef.current;\n    const listener = () => {\n      const isEnabled = Boolean(prop && document[prop]);\n      setIsFullscreen(isEnabled);\n      if (isEnabled) {\n        enterCallback?.(false);\n      } else {\n        exitCallback?.(false);\n      }\n      // In Firefox fullscreen video controls are not visible by default, so we force them manually\n      if (element instanceof HTMLVideoElement) element.controls = isEnabled;\n    };\n\n    const listenerEnter = () => {\n      setIsFullscreen(true);\n      if (enterCallback) enterCallback(true);\n    };\n\n    const listenerExit = () => {\n      setIsFullscreen(false);\n      if (exitCallback) exitCallback(false);\n    };\n\n    document.addEventListener('fullscreenchange', listener, false);\n    document.addEventListener('webkitfullscreenchange', listener, false);\n    document.addEventListener('mozfullscreenchange', listener, false);\n\n    if (element) {\n      element.addEventListener('webkitbeginfullscreen', listenerEnter, false);\n      element.addEventListener('webkitendfullscreen', listenerExit, false);\n    }\n\n    return () => {\n      document.removeEventListener('fullscreenchange', listener, false);\n      document.removeEventListener('webkitfullscreenchange', listener, false);\n      document.removeEventListener('mozfullscreenchange', listener, false);\n      if (element) {\n        element.removeEventListener('webkitbeginfullscreen', listenerEnter, false);\n        element.removeEventListener('webkitendfullscreen', listenerExit, false);\n      }\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  if (!prop && !IS_IOS) {\n    return [false];\n  }\n\n  return [isFullscreen, setFullscreen, exitFullscreen];\n}\n\nexport const useFullscreenStatus = () => {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  useEffect(() => {\n    const listener = () => {\n      setIsFullscreen(checkIfFullscreen());\n    };\n\n    const removeElectronListener = window.electron?.on(ElectronEvent.FULLSCREEN_CHANGE, setIsFullscreen);\n    window.electron?.isFullscreen().then(setIsFullscreen);\n\n    document.addEventListener('fullscreenchange', listener, false);\n    document.addEventListener('webkitfullscreenchange', listener, false);\n    document.addEventListener('mozfullscreenchange', listener, false);\n\n    return () => {\n      removeElectronListener?.();\n\n      document.removeEventListener('fullscreenchange', listener, false);\n      document.removeEventListener('webkitfullscreenchange', listener, false);\n      document.removeEventListener('mozfullscreenchange', listener, false);\n    };\n  }, []);\n\n  return isFullscreen;\n};\n\nfunction getBrowserFullscreenElementProp() {\n  if (typeof document.fullscreenElement !== 'undefined') {\n    return 'fullscreenElement';\n  } else if (typeof document.mozFullScreenElement !== 'undefined') {\n    return 'mozFullScreenElement';\n  } else if (typeof document.webkitFullscreenElement !== 'undefined') {\n    return 'webkitFullscreenElement';\n  }\n  return '';\n}\n\nexport function checkIfFullscreen() {\n  const fullscreenProp = getBrowserFullscreenElementProp();\n  return Boolean(fullscreenProp && document[fullscreenProp]);\n}\n\nexport function safeRequestFullscreen(element: ElementType) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.webkitEnterFullscreen) {\n    element.webkitEnterFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  }\n}\n\nexport function safeExitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitCancelFullScreen) {\n    document.webkitCancelFullScreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  }\n}\n","export enum ElectronEvent {\n  FULLSCREEN_CHANGE = 'fullscreen-change',\n  UPDATE_ERROR = 'update-error',\n  UPDATE_AVAILABLE = 'update-available',\n  DEEPLINK = 'deeplink',\n}\n\nexport enum ElectronAction {\n  GET_IS_FULLSCREEN = 'get-is-fullscreen',\n  INSTALL_UPDATE = 'install-update',\n  HANDLE_DOUBLE_CLICK = 'handle-double-click',\n  OPEN_NEW_WINDOW = 'open-new-window',\n  SET_WINDOW_TITLE = 'set-window-title',\n  SET_TRAFFIC_LIGHT_POSITION = 'set-traffic-light-position',\n  SET_IS_AUTO_UPDATE_ENABLED = 'set-is-auto-update-enabled',\n  GET_IS_AUTO_UPDATE_ENABLED = 'get-is-auto-update-enabled',\n  SET_IS_TRAY_ICON_ENABLED = 'set-is-tray-icon-enabled',\n  GET_IS_TRAY_ICON_ENABLED = 'get-is-tray-icon-enabled',\n  RESTORE_LOCAL_STORAGE = 'restore-local-storage',\n}\n\nexport type TrafficLightPosition = 'standard' | 'lowered';\n\nexport interface ElectronApi {\n  isFullscreen: () => Promise<boolean>;\n  installUpdate: () => Promise<void>;\n  handleDoubleClick: () => Promise<void>;\n  openNewWindow: (url: string, title?: string) => Promise<void>;\n  setWindowTitle: (title?: string) => Promise<void>;\n  setTrafficLightPosition: (position: TrafficLightPosition) => Promise<void>;\n  setIsAutoUpdateEnabled: (value: boolean) => Promise<void>;\n  getIsAutoUpdateEnabled: () => Promise<boolean>;\n  setIsTrayIconEnabled: (value: boolean) => Promise<void>;\n  getIsTrayIconEnabled: () => Promise<boolean>;\n  restoreLocalStorage: () => Promise<void>;\n  on: (eventName: ElectronEvent, callback: any) => VoidFunction;\n}\n\ndeclare global {\n  interface Window {\n    electron?: ElectronApi;\n  }\n}\n"],"names":["React","memo","useCallback","getActions","withGlobal","getUserFirstOrLastName","selectCurrentChat","selectUser","renderText","useOldLang","ConfirmDialog","DeleteMemberModal","isOpen","chat","userId","contactName","onClose","deleteChatMember","lang","handleDeleteChatMember","chatId","id","undefined","createElement","title","textParts","confirmLabel","confirmHandler","confirmIsDestructive","global","user","getMainUsername","isChatBasicGroup","selectChat","selectChatFullInfo","selectChatGroupCall","fullInfo","groupCallId","selectGroupCall","groupCalls","byId","selectGroupCallParticipant","participantId","participants","selectIsAdminInActiveGroupCall","selectActiveGroupCall","isCreator","Boolean","adminRights","manageCall","activeGroupCallId","selectPhoneCallUser","phoneCall","currentUserId","adminId","selectCanInviteToActiveGroupCall","groupCall","hasPublicUsername","inviteLink","DEFAULT_LIMITS","selectIsCurrentUserPremium","selectCurrentLimit","limit","appConfig","isPremium","limits","value","selectPremiumLimit","useEffect","useLayoutEffect","useState","ElectronEvent","IS_IOS","prop","getBrowserFullscreenElementProp","useFullscreen","elRef","exitCallback","enterCallback","isFullscreen","setIsFullscreen","document","setFullscreen","current","safeRequestFullscreen","exitFullscreen","safeExitFullscreen","element","listener","isEnabled","HTMLVideoElement","controls","listenerEnter","listenerExit","addEventListener","removeEventListener","useFullscreenStatus","checkIfFullscreen","removeElectronListener","window","electron","on","FULLSCREEN_CHANGE","then","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","fullscreenProp","requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","mozRequestFullScreen","mozCancelFullScreen","webkitCancelFullScreen","webkitExitFullscreen","ElectronAction"],"sourceRoot":""}